<!DOCTYPE html>
<html lang="ko">
<head>
  <title>오픈이노베이션</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  <style>

    .row.content {height: 1500px}
    

    .sidenav {
      background-color: #f1f1f1;
      height: 100%;
    }
    .img_custom{
      width: 100%;
      text-align: center;
    }
    

    footer {
      background-color: #555;
      color: white;
      padding: 15px;
    }
    

    @media screen and (max-width: 767px) {
      .sidenav {
        height: auto;
        padding: 15px;
      }
      .row.content {height: auto;} 
    }
  </style>
</head>

<body>

  <div class="container-fluid">

    <div class="row content">

      <div class="col-sm-4 sidenav">
        
        <h4>오픈이노베이션</h4><br>
        <hr style="border: solid 1px rgba(59, 59, 59, 0.226);">

        <div class="row">
          <div class="col-sm-7" style="width: 270px">
            <strong>Image File</strong>
            <script>
                function previewImage(f){

                    var fileUP = f.files;
                    var img = document.createElement("img")
                    
                    // 확장자 체크
                    if(!/\.(gif|jpg|jpeg|png)$/i.test(file[0].name)){
                        alert('gif, jpg, png 파일만 선택해 주세요.\n\n현재 파일 : ' + file[0].name);

                        // 선택한 파일 초기화
                        f.outerHTML = f.outerHTML;
                        document.getElementById('preview').innerHTML = '';
                    }

                    else {
                        // FileReader 객체 사용
                        var reader = new FileReader();
                        // 파일 읽기가 완료되었을때 실행
                        reader.onload = function(rst){
                            img.src = rst.target.result

                            var canvas = document.createElement("canvas");      
                            var ctx = canvas.getContext("2d");
                            ctx.drawImage(img, 0, 0);
                            var MAX_WIDTH = 400;
                            var MAX_HEIGHT = 400;
                            var width = img.width;
                            var height = img.height;

                            //가로가 큰경우
                            if (width > height) {
                                if (width > MAX_WIDTH) {
                                    height *= MAX_WIDTH / width;
                                    width = MAX_WIDTH;
                                }
                            } 
                            else {
                            if (height > MAX_HEIGHT) {
                                width *= MAX_HEIGHT / height;
                                height = MAX_HEIGHT;
                            }

                            canvas.width = width;
                            canvas.height = height;
                            var ctx = canvas.getContext("2d");
                            ctx.drawImage(img, 0, 0, width, height);
                            var dataurl = canvas.toDataURL("image/png");

                            document.getElementById('preview').src = dataurl
                            }
                        }
                        // 파일을 읽는다
                        reader.readAsDataURL(file[0]);
                    }
                }
            </script>
            <input class="btn btn-sm btn-default" type="file" name="files1" accept="image/*" onchange="previewImage(this)" />
            <strong>Json File</strong>
            <input class="btn btn-sm btn-default" type="file">
          </div>
          <div class="col-sm-5" style="margin-left: 0px;">
            <script>
                var slider = $(".slider");
                slider.change(function(){
                $(".result").text( slider.val() );
                });
            </script>
            <form style="display: inline;">
              <label>brightness</label><br>
              <label class="range-inline" ><input type="range" min="-10" max="10" value="0" name="slider" for="result" list="bright" oninput="result.value=slider.value"></label> 
              <label class="range-inline"></label><input style="height: 20px; width: 29px; text-align: right;" class="result" name="result" value="0" for="slider" oninput="slider.value=result.value"> %</label> 
              <datalist id="bright">
                <option>-10</option>
                <option>-9</option>
                <option>-8</option>
                <option>-7</option>
                <option>-6</option>
                <option>-4</option>
                <option>-3</option>
                <option>-5</option>
                <option>-2</option>
                <option>-1</option>
                <option>-1</option>
                <option>0</option>
                <option>1</option>
                <option>2</option>
                <option>3</option>
                <option>4</option>
                <option>5</option>
                <option>6</option>
                <option>7</option>
                <option>8</option>
                <option>9</option>
                <option>10</option>
              </datalist>
            </form>
          </div>
        </div>


        <hr style="border: solid 1px rgba(59, 59, 59, 0.226);">

        <div class="row">

          <div class="col-sm-6">

            <strong>Select</strong>
            <form class="form-inline">
              <label class="checkbox-inline"><input type="checkbox">분할</label>
              <label class="checkbox-inline"><input type="checkbox">합성</label>
              <label class="checkbox-inline"><input type="checkbox">회전</label>
            </form>

            <strong>Color</strong>
            <form class="form-inline">
              <label class="radio-inline"><input name="color" type="radio">RGB</label>
              <label class="radio-inline"><input name="color" type="radio">HSV</label>
              <label class="radio-inline"><input name="color" type="radio">YCbCr</label>
            </form>
          </div>

          <div class="col-sm-6">
            <form class="form-inline">
              <label>&ensp; +/-</label>
              <label>&ensp; Rotaion</label>
            </form>
            <form class="form-inline">
              <select style="height: 26px;">
                <option value="+">+</option>
                <option value="-">-</option>
              </select>
              <input type="number" min="0", max="360", step="45" placeholder="degree°">
            </form>
          </div>
        </div>
        <hr style="border: solid 1px rgba(59, 59, 59, 0.226);">
        <div class="row">
          <div class="col-sm-offset-6 offset col-sm-6" style="text-align: right;">

            <input type="button" class="btn btn-primary" name="RUN" value="RUN">
            <input style="margin-left: 10px;" type="button" class="btn btn-primary" name="Export" value="Export">


          </div>
        </div>
      </div>

      <div class="col-sm-8">
        <h2>INPUT</h2>
        
        <hr style="border: solid 1px rgba(59, 59, 59, 0.226);">
        <div>
          <img src="" id="preview" alt="">
        </div>
        <hr style="border: solid 1px rgba(59, 59, 59, 0.226);">
        

        <table class="table table-bordered">
          <h2>OUTPUT</h2>
          <tr>
            <td><img class="img_custom" src="image/6063415003520_H.jpg" alt=""></td>
            <td><img class="img_custom" src="image/6063415003536_V.jpg" alt=""></td>
            <td><img class="img_custom" src="image/6063415003537_H.jpg" alt=""></td>
          </tr>
          <tr>
            <td>image/BAGGAGE_20200707_112723_73729_A_0.jpg</td>
            <td>image/BAGGAGE_20200707_112723_73729_A_0.jpg</td>
            <td>image/BAGGAGE_20200707_112723_73729_A_0.jpg</td>
          </tr>
        </table>
        <table class="table table-bordered">
          <tr>
            <td><img class="img_custom" src="image/6063415003520_H.jpg" alt=""></td>
            <td><img class="img_custom" src="image/6063415003536_V.jpg" alt=""></td>
            <td><img class="img_custom" src="image/6063415003537_H.jpg" alt=""></td>
          </tr>
          <tr>
            <td>image/BAGGAGE_20200707_112723_73729_A_0.jpg</td>
            <td>image/BAGGAGE_20200707_112723_73729_A_0.jpg</td>
            <td>image/BAGGAGE_20200707_112723_73729_A_0.jpg</td>
          </tr>
        </table>


      </div>
    </div>
  </div>

  <footer class="container-fluid">
    <p>Footer Text</p>
  </footer>

</body>
</html>
